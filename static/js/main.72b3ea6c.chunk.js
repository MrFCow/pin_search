(this.webpackJsonppinterest_search=this.webpackJsonppinterest_search||[]).push([[0],{22:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(2),c=n.n(a),i=n(15),s=n.n(i),o=(n(22),n(3)),u=n.n(o),d=n(4),l=n(5),j=n(16),p=n.n(j),b=function(e){return{authority:"api.pinterest.com","Content-Type":"multipart/form-data; boundary=".concat(e._boundary),accept:"*/*"}},h=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p()({method:"put",url:"".concat("","https://api.pinterest.com/v3/visual_search/extension/image/"),headers:b(t),data:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function f(e){var t=Object(a.useState)(null),n=Object(l.a)(t,2),i=n[0],s=n[1],o=Object(a.useState)(!1),j=Object(l.a)(o,2),p=j[0],b=j[1],f=Object(a.useState)(!1),O=Object(l.a)(f,2),m=O[0],v=O[1],x=Object(a.useState)(null),g=Object(l.a)(x,2),w=g[0],y=g[1],S=c.a.createRef();return Object(r.jsxs)("div",{children:[Object(r.jsx)("input",{type:"file",id:"myfile",name:"myfile",ref:S}),p?Object(r.jsx)("div",{children:"...Loading"}):Object(r.jsx)("button",{onClick:function(){var e=S.current.files[0],t=new FileReader;t.onloadstart=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(!0);case 1:case"end":return e.stop()}}),e)}))),t.onloadend=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(t.result),b(!1);case 2:case"end":return e.stop()}}),e)}))),t.onerror=function(e){console.error(e),b(!1)},t.readAsDataURL(e)},children:"Load"}),Object(r.jsx)("div",{children:i?Object(r.jsxs)("div",{children:[Object(r.jsx)("img",{alt:"",src:i,style:{maxWidth:300}}),m?Object(r.jsx)("div",{children:"...Searching"}):Object(r.jsx)("button",{onClick:function(){var e=new FormData,t=S.current.files[0],n=function(e){for(var t=e.split(","),n=t[0].match(/:(.*?);/)[1],r=atob(t[1]),a=r.length,c=new Uint8Array(a);a--;)c[a]=r.charCodeAt(a);return new Blob([c],{type:n})}(i);e.append("image",n,t.name),e.append("x","0"),e.append("y","0"),e.append("w","1.0"),e.append("h","1.0"),v(!0),h(e).then((function(e){y(e.data),v(!1)})).catch((function(e){v(!1)}))},children:"Search"})]}):Object(r.jsx)("div",{children:"No image"})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:"Results:"}),(null===w||void 0===w?void 0:w.data)?w.data.map((function(e){return Object(r.jsx)("img",{src:e.image_square_url})})):null]})]})}var O=function(){return Object(r.jsx)(f,{})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(O,{})}),document.getElementById("root")),m()}},[[42,1,2]]]);
//# sourceMappingURL=main.72b3ea6c.chunk.js.map